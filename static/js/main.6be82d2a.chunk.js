(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,a){},15:function(e,t,a){e.exports=a(25)},23:function(e,t,a){},25:function(e,t,a){"use strict";a.r(t);var n=a(1),o=a.n(n),r=a(13),c=a.n(r),l=a(3),s=a(4),i=a(6),u=a(5),h=a(7),m=a(11),b="https://reactnd-books-api.udacity.com",f=localStorage.token;f||(f=localStorage.token=123);var d={Accept:"application/json",Authorization:f},k=function(e,t){return fetch("".concat(b,"/books/").concat(e.id),{method:"PUT",headers:Object(m.a)({},d,{"Content-Type":"application/json"}),body:JSON.stringify({shelf:t})}).then(function(e){return e.json()})},p=function(e){return fetch("".concat(b,"/search"),{method:"POST",headers:Object(m.a)({},d,{"Content-Type":"application/json"}),body:JSON.stringify({query:e})}).then(function(e){return e.json()}).then(function(e){return e.books})},v=(a(10),function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).test=function(e,t){console.log(e.target.value)},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.book,a=e.changeShelf;return o.a.createElement("div",{className:"book-shelf-changer"},o.a.createElement("select",{onChange:function(e){return a(t,e)}},o.a.createElement("option",{value:"move"},"Move to..."),o.a.createElement("option",{value:"currentlyReading"},"Currently Reading"),o.a.createElement("option",{value:"wantToRead"},"Want to Read"),o.a.createElement("option",{value:"read"},"Read"),o.a.createElement("option",{value:"none"},"None")))}}]),t}(n.Component)),y=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.changeShelf;return o.a.createElement("ol",{className:"books-grid"},this.props.bookGroup.map(function(t){return o.a.createElement("li",{key:t.id},o.a.createElement("div",{className:"book"},o.a.createElement("div",{className:"book-top"},o.a.createElement("div",{className:"book-cover",style:{width:128,height:188,backgroundImage:"url(".concat(t.imageLinks.thumbnail,")")}}),o.a.createElement("div",{className:"book-cover",style:{width:128,height:188}}),o.a.createElement(v,{book:t,changeShelf:e})),o.a.createElement("div",{className:"book-title"},t.title),o.a.createElement("div",{className:"book-authors"},void 0===t.authors?"Unknown":t.authors[0])))}))}}]),t}(n.Component),E=a(14),g=a.n(E),j=a(8),O=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={bookshelfTitle:["Currently Reading","Want to Read","Read"],shelfTitle:["currentlyReading","wantToRead","read"]},a.getCurrentlyReading=function(e){return e.filter(function(e){return"currentlyReading"==e.shelf})},a.wantToReadBooks=function(e){return e.filter(function(e){return"wantToRead"==e.shelf})},a.readBooks=function(e){return e.filter(function(e){return"read"==e.shelf})},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.books,n=t.changeShelf,r=(this.getCurrentlyReading(a),g.a.groupBy(a,function(e){return e.shelf}));return o.a.createElement("div",{className:"list-books"},o.a.createElement("div",{className:"list-books-title"},o.a.createElement("h1",null,"MyReads")),o.a.createElement("div",{className:"list-books-content"},o.a.createElement("div",null),o.a.createElement("div",null,Object.keys(r).map(function(t,a){return o.a.createElement("div",{key:e.state.bookshelfTitle[a],className:"bookshelf"},o.a.createElement("h2",{className:"bookshelf-title"},e.state.bookshelfTitle[a]),o.a.createElement("div",{className:"bookshelf-books"},o.a.createElement(y,{bookGroup:r[t],changeShelf:n})))}),o.a.createElement(j.b,{to:"/search",className:"open-search"},"Add a book"))))}}]),t}(n.Component),N=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.queryBooks,a=e.searchBooks,n=e.changeShelf;return o.a.createElement("div",{className:"search-books"},o.a.createElement("div",{className:"search-books-bar"},o.a.createElement(j.b,{to:"/",className:"close-search"},"Close"),o.a.createElement("div",{className:"search-books-input-wrapper"},o.a.createElement("input",{type:"text",placeholder:"Search by title or author",onChange:function(e){return t(e.target.value)}}))),o.a.createElement("div",{className:"search-books-results"},o.a.createElement("ol",{className:"books-grid"},void 0!==a&&a.length>0&&o.a.createElement(y,{bookGroup:a,changeShelf:n}))))}}]),t}(n.Component),S=a(0),w=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={books:[],query:"",bookDetails:[]},a.searchBooks=function(e){p(e).then(function(t){a.setState(function(){return{query:e.trim(),bookDetails:t}})})},a.moveBook=function(e,t){k(e,t.target.value).then(function(e){a.setState(function(e){return{query:e.query}})})},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("".concat(b,"/books"),{headers:d}).then(function(e){return e.json()}).then(function(e){return e.books}).then(function(t){e.setState(function(){return{books:t}})})}},{key:"render",value:function(){return o.a.createElement("div",{className:"app"},o.a.createElement(S.c,null,o.a.createElement(S.a,{path:"/search",element:o.a.createElement(N,{queryBooks:this.searchBooks,searchBooks:this.state.bookDetails,changeShelf:this.moveBook})}),o.a.createElement(S.a,{path:"/",element:o.a.createElement(O,{books:this.state.books,changeShelf:this.moveBook})})))}}]),t}(o.a.Component);a(23);c.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(j.a,null,o.a.createElement(w,null))),document.getElementById("root"))}},[[15,2,1]]]);
//# sourceMappingURL=main.6be82d2a.chunk.js.map